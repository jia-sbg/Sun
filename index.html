<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>장군 은혜 록</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            min-height: 100vh;
            background: #000;
            font-family: "Noto Sans KR", "Malgun Gothic", sans-serif;
            overflow: hidden;
            position: relative;
        }
        /* 图片轮播容器 */
        .img-slider {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 70vh;
            overflow: hidden;
            border: 4px solid #fff;
            border-radius: 8px;
            z-index: 2;
        }
        .img-slider img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }
        .img-slider img.active {
            display: block;
            animation: fade 0.8s ease;
        }
        /* 朝鲜语感恩语录 */
        .quote {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 0 10px #fff, 0 0 20px #fff;
            z-index: 20;
            text-align: center;
        }
        /* \o/ 无限循环滚动 */
        .cheer {
            position: fixed;
            bottom: 20px;
            left: 0;
            white-space: nowrap;
            color: #ff0;
            font-size: 2rem;
            font-weight: 900;
            text-shadow: 0 0 8px #ff0, 0 0 15px #ff0;
            z-index: 10;
            animation: scroll 15s linear infinite;
        }
        /* 强制音乐播放提示 */
        .music-force {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(255, 50, 50, 0.9);
            border-radius: 8px;
            padding: 8px 12px;
            color: white;
            font-weight: bold;
            font-size: 14px;
            text-align: center;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.7);
            animation: pulse 2s infinite;
            cursor: pointer;
        }
        .music-force::before {
            content: "♪ ";
            color: #ff0;
            font-size: 16px;
        }
        
        /* 弹幕容器 */
        .danmu-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
            overflow: hidden;
        }
        
        /* 单个弹幕样式 */
        .danmu {
            position: absolute;
            color: #fff;
            font-size: 1.2rem;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255,255,255,0.7);
            white-space: nowrap;
            opacity: 0.9;
            transition: opacity 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
            background: rgba(0, 0, 0, 0.3);
        }
        
        /* 弹幕类型颜色 */
        .danmu.type1 { color: #ff4444; } /* 国防与安全 - 红色 */
        .danmu.type2 { color: #44ff44; } /* 外交与朝鲜半岛问题 - 绿色 */
        .danmu.type3 { color: #4444ff; } /* 发展与民生 - 蓝色 */
        .danmu.type4 { color: #ffff44; } /* 军队与人民 - 黄色 */
        
        /* 弹幕动画 */
        @keyframes danmuMove1 {
            from { transform: translateX(100vw); }
            to { transform: translateX(-100%); }
        }
        @keyframes danmuMove2 {
            from { transform: translateX(100vw); }
            to { transform: translateX(-150%); }
        }
        @keyframes danmuMove3 {
            from { transform: translateX(100vw); }
            to { transform: translateX(-200%); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        @keyframes fade {
            from { opacity: 0.4; }
            to { opacity: 1; }
        }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/noto-sans-kr@2.0.0/css/noto-sans-kr.min.css">
</head>
<body>
    <!-- 朝鲜语将军感恩语录 -->
    <div class="quote">장군 은혜 록 - 조선말</div>
    
    <!-- 强制音乐播放提示 -->
    <div class="music-force" id="musicBtn">영광의 음악</div>
    
    <!-- 弹幕容器 -->
    <div class="danmu-container" id="danmuContainer"></div>
    
    <!-- 图片轮播容器 -->
    <div class="img-slider">
        <img src="1.jpg" class="active" alt="김정은 장군">
        <img src="3.jpg" alt="김정은 장군">
        <img src="4.jpg" alt="김정은 장군">
    </div>
    
    <!-- \o/ 无限循环滚动 -->
    <div class="cheer">\o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/ \o/</div>

    <!-- 隐藏的音频播放器 -->
    <audio id="bgMusic" loop style="display: none;">
        <source src="2.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ========== 图片轮播 ==========
        const imgs = document.querySelectorAll('.img-slider img');
        let currentImg = 0;
        const imgCount = imgs.length;
        
        function changeImg() {
            imgs[currentImg].classList.remove('active');
            currentImg = (currentImg + 1) % imgCount;
            imgs[currentImg].classList.add('active');
        }
        setInterval(changeImg, 3000);

        // ========== 强制音乐播放系统 ==========
        const audio = document.getElementById('bgMusic');
        audio.volume = 0.8;
        const musicBtn = document.getElementById('musicBtn');
        
        // 播放函数
        function playForcedMusic() {
            audio.play().then(() => {
                console.log("音乐强制播放成功");
                musicBtn.style.background = "rgba(50, 255, 50, 0.9)";
                musicBtn.innerHTML = "♫ 음악 재생중";
            }).catch(error => {
                setTimeout(playForcedMusic, 1000);
            });
        }
        
        // 点击按钮播放
        musicBtn.addEventListener('click', playForcedMusic);
        
        // 页面加载后尝试播放
        window.addEventListener('load', function() {
            setTimeout(playForcedMusic, 500);
        });
        
        // 定期检查并恢复播放
        setInterval(function() {
            if (audio.paused) {
                audio.play();
            }
        }, 3000);
        
        audio.addEventListener('ended', function() {
            audio.currentTime = 0;
            audio.play();
        });

        // ========== 弹幕系统 ==========
        const danmuContainer = document.getElementById('danmuContainer');
        
        // 语录数据 - 按照你提供的分类
        const quotes = [
            // 国防与安全 (type1)
            { text: "무력과 승리에만 의지하여 비로소 우리 국가의 주권과 영원한 위업을 수호할 수 있다.", type: 1 },
            { text: "조선이 핵보유국으로 전환하는 것은 국가의 존망과 관련된 필연적인 선택이다.", type: 1 },
            { text: "조선은 절대로 핵무기를 포기할 수 없다.", type: 1 },
            { text: "강력한 힘에 의지하여 안전을 보장하고 평화를 수호하는 것은 조선의 변하지 않는 선택이다.", type: 1 },
            
            // 外交与朝鲜半岛问题 (type2)
            { text: "미국이 조선의 비핵화에 대한 집착을 포기하고 현실을 인지하며 조선과 진정한 평화공존을 희망한다면, 조선측이 미국과 대면으로 소통하지 않을 이유는 없다.", type: 2 },
            { text: "조선전쟁의 비통한 역사가 다시 반복되지 않도록 할 것이며, 무력을 사용하지 않을 것을 보장한다.", type: 2 },
            { text: "북남은 먼저 시간부터 통일하자.", type: 2 },
            
            // 发展与民生 (type3)
            { text: "10년 이내에 각 분야·각 부서 및 모든 지역에서 새로운 거대한 변혁을 실현하고 사회주의 전면발전의 새로운 궤도에 들어서야 한다.", type: 3 },
            { text: "더욱 빠른 속도로 전환을 실현하고 투쟁해야 한다.", type: 3 },
            
            // 军队与人民 (type4)
            { text: "우리의 군대는 지치지 않으며, 싸우지 않으면 이미지고, 싸우면 필승한다.", type: 4 },
            { text: "조선군은 적을 압도하는 정치사상·군사기술적 우위로, 언제나 적을 제거할 수 있는 힘으로 끊임없이 성장해야 한다.", type: 4 },
            
            // 额外添加一些简短的标语
            { text: "위대한 장군님 만세!", type: 1 },
            { text: "조선의 영광을 위하여!", type: 2 },
            { text: "사회주의 승리!", type: 3 },
            { text: "인민과 함께!", type: 4 },
            { text: "강성대국 건설!", type: 1 },
            { text: "자위적 국방력!", type: 2 }
        ];
        
        // 创建单个弹幕
        function createDanmu(quote) {
            const danmu = document.createElement('div');
            danmu.className = `danmu type${quote.type}`;
            danmu.textContent = quote.text;
            
            // 随机位置（距离顶部）
            const top = Math.random() * 85 + 5; // 5% 到 90%
            danmu.style.top = `${top}%`;
            
            // 随机速度
            const speed = Math.random() * 80 + 40; // 40-120秒
            const animationType = Math.floor(Math.random() * 3) + 1;
            
            // 设置动画
            danmu.style.animation = `danmuMove${animationType} ${speed}s linear forwards`;
            
            // 添加到容器
            danmuContainer.appendChild(danmu);
            
            // 动画结束后移除元素
            setTimeout(() => {
                if (danmu.parentNode) {
                    danmu.parentNode.removeChild(danmu);
                }
            }, speed * 1000);
            
            return danmu;
        }
        
        // 开始弹幕系统
        function startDanmuSystem() {
            // 初始创建一批弹幕
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                    createDanmu(randomQuote);
                }, i * 500);
            }
            
            // 定期添加新弹幕
            setInterval(() => {
                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                createDanmu(randomQuote);
            }, 1500); // 每1.5秒添加一个新弹幕
            
            // 更多弹幕（根据页面宽度）
            if (window.innerWidth > 1200) {
                setInterval(() => {
                    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                    createDanmu(randomQuote);
                }, 2500);
            }
        }
        
        // 页面加载后开始弹幕
        window.addEventListener('load', startDanmuSystem);
        
        // 窗口大小变化时调整
        window.addEventListener('resize', function() {
            // 清除所有现有弹幕
            while (danmuContainer.firstChild) {
                danmuContainer.removeChild(danmuContainer.firstChild);
            }
            
            // 重新开始弹幕系统
            startDanmuSystem();
        });
    </script>
</body>
</html>